{% extends "admin-base.html" %}
{% load static %}

{% block css %}
{% endblock css %}

{% block content %}
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">회원관리 페이지</h1>
            </div>
        </div>
    

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        회원 리스트
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example" style="text-align:center;">
                            <thead>
                                <tr>
                                    <th width="30px">No</th>
                                    <th>ID</th>
                                    <th>회사명</th>
                                    <th width="50px">대표자</th>
                                    <th width="180px">E-mail</th>
                                    <th>Address</th>
                                    <th width="100px">핸드폰번호</th>
                                    <th>홈페이지 주소</th>
                                    <th width="200px">가입날짜</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for user_info in user_infos %}
                                    <tr>
                                        <td>{{user_info.user_id}}</td>
                                        <td>{{user_info.com_name}}</td>
                                        <td>{{user_info.com_head}}</td>
                                        <td>{{user_info.email}}</td>
                                        <td>{{user_info.address}}</td>
                                        <td>{{user_info.phone_num}}</td>
                                        <td>{{user_info.homepage}}</td>
                                        <td>{{user_info.c_date}}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block js %}
<script>
    // Table 맨 앞 <td> 태그에 자동으로 인덱스 생성
    var tables = document.getElementsByTagName('tbody');
    var table = tables[tables.length - 1];
    var rows = table.rows;
    for(var i = 0, td; i < rows.length; i++){
        td = document.createElement('td');
        td.appendChild(document.createTextNode(i+1));
        td.style ="vertical-align: middle;"
        rows[i].insertBefore(td, rows[i].firstChild);
    }
</script>
{% endblock js %}